<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>双向链表</title>
</head>

<body>
  <script>
    class Node {
      constructor(element) {
        this.element = element
        this.next = null
      }
    }

    class List {
      constructor() {
        this.head = new Node('head')
        this.length = 0
      }

      // 查询所有节点
      display() {
        let node = this.head
        console.log('node => ', node.element)
        while (node.next != null) {
          node = node.next
          console.log('node => ', node.element)
        }
      }

      // 查询目标节点
      find(element) {
        let node = this.head
        while (node.element != element) {
          node = node.next
        }
        return node
      }

      // 指定目标节点后插入当前新节点
      insert(node, targetElement) {
        let targetNode = this.find(targetElement)
        node.next = targetNode.next
        targetNode.next = node
        this.length++
      }

     // 查找待删除目标节点的前一个节点
     findPrev(element) {
        let node = this.head
        while (node.next && node.next.element != element) {
          node = node.next
        }
        return node
     }

      // 删除目标节点
      remove(element) {
        if (element == 'head') return console.log('head 节点不允许删除')
        let prevNode = this.findPrev(element)
        if (prevNode.next != null) {
          prevNode.next = prevNode.next.next
        } else {
          console.log('删除失败 未查询到目标节点')
        }
      }
    }

    let linkedList = new List()
    linkedList.insert(new Node('one'), 'head')
    linkedList.insert(new Node('two'), 'one')
    linkedList.insert(new Node('three'), 'two')
    linkedList.insert(new Node('four'), 'one')

    // linkedList.remove('two')

    console.log('linkedList', linkedList)
    linkedList.display()
  </script>
</body>

</html>